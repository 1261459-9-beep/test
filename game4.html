<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å½ˆç æ³¢å­æ©Ÿ</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #121212;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        .game-container {
            width: 600px;
            height: 700px;
            background: #000;
            border: 4px solid #ffcc00;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        .start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #ffcc00;
            z-index: 10;
        }
        .start-button {
            background: #ff6600;
            color: white;
            border: none;
            border-radius: 30px;
            padding: 15px 40px;
            font-size: 1.3rem;
            margin-top: 30px;
            cursor: pointer;
        }
        .play-area {
            position: absolute;
            top: 60px;
            left: 20px;
            right: 20px;
            bottom: 100px;
            background: #000;
        }
        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
        }
        .flipper {
            position: absolute;
            bottom: 20px;
            width: 70px;
            height: 20px;
            background: #ff6600;
            border-radius: 10px;
        }
        .flipper.left { left: 80px; transform: rotate(-45deg); }
        .flipper.right { right: 80px; transform: rotate(45deg); }
        .launch-btn {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #ff6600;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 30px;
            cursor: pointer;
        }
        .score-display {
            position: absolute;
            top: 15px;
            left: 20px;
            color: #ffcc00;
            font-size: 1.5rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="start-screen" id="startScreen">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;">ğŸ¯ å½ˆç æ³¢å­æ©Ÿ</h1>
            <p style="font-size: 1.2rem; margin-bottom: 30px; text-align: center; max-width: 400px;">
                é»æ“Šä¸‹æ–¹æŒ‰éˆ•é–‹å§‹éŠæˆ²ï¼<br>ä½¿ç”¨ â† â†’ éµæ§åˆ¶æ“‹æ¿ï¼Œç©ºæ ¼éµç™¼å°„å½ˆç 
            </p>
            <button class="start-button" id="startButton">â–¶ é–‹å§‹éŠæˆ²</button>
        </div>
        
        <div class="score-display">åˆ†æ•¸: <span id="score">0</span></div>
        <div class="play-area" id="playArea"></div>
        <div class="flipper left" id="leftFlipper"></div>
        <div class="flipper right" id="rightFlipper"></div>
        <button class="launch-btn" id="launchButton">ç™¼å°„</button>
    </div>

    <script>
        // DOM å…ƒç´ 
        const startScreen = document.getElementById('startScreen');
        const startButton = document.getElementById('startButton');
        const playArea = document.getElementById('playArea');
        const scoreEl = document.getElementById('score');
        const launchButton = document.getElementById('launchButton');
        
        // éŠæˆ²ç‹€æ…‹
        let score = 0;
        let ball = null;
        let ballPos = { x: 290, y: 550 };
        let ballVel = { x: 0, y: 0 };
        let gameActive = false;
        let isLaunched = false;
        let animationId = null;
        
        // é–‹å§‹éŠæˆ²
        startButton.addEventListener('click', () => {
            startScreen.style.display = 'none';
            gameActive = true;
            createBall();
            gameLoop();
        });
        
        // å‰µå»ºçƒ
        function createBall() {
            ball = document.createElement('div');
            ball.className = 'ball';
            ball.style.left = ballPos.x + 'px';
            ball.style.top = ballPos.y + 'px';
            playArea.appendChild(ball);
        }
        
        // ç™¼å°„çƒ
        launchButton.addEventListener('click', launchBall);
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && gameActive && !isLaunched) {
                launchBall();
            }
        });
        
        function launchBall() {
            if (isLaunched) return;
            isLaunched = true;
            const angle = Math.random() * Math.PI * 2;
            const speed = 15;
            ballVel = {
                x: Math.cos(angle) * speed,
                y: Math.sin(angle) * speed * -1
            };
        }
        
        // éŠæˆ²å¾ªç’°
        function gameLoop() {
            if (!gameActive) return;
            
            // ç‰©ç†æ•ˆæœ
            if (isLaunched) {
                ballVel.y += 0.3; // é‡åŠ›
                ballPos.x += ballVel.x;
                ballPos.y += ballVel.y;
                
                // é‚Šç•Œç¢°æ’
                const width = playArea.offsetWidth;
                const height = playArea.offsetHeight;
                
                if (ballPos.x <= 0 || ballPos.x >= width - 20) {
                    ballVel.x *= -0.8;
                    ballPos.x = ballPos.x <= 0 ? 0 : width - 20;
                }
                
                if (ballPos.y <= 0) {
                    ballVel.y *= -0.8;
                    ballPos.y = 0;
                }
                
                // æ“‹æ¿ç¢°æ’
                if (ballPos.y >= height - 40 && ballPos.y <= height - 20) {
                    if ((ballPos.x > 60 && ballPos.x < 150) || (ballPos.x > width - 150 && ballPos.x < width - 60)) {
                        ballVel.y *= -0.9;
                        score += 5;
                        scoreEl.textContent = score;
                    }
                }
                
                // æ‰å‡ºåº•éƒ¨
                if (ballPos.y > height) {
                    resetGame();
                    return;
                }
            }
            
            // æ›´æ–°çƒä½ç½®
            if (ball) {
                ball.style.left = ballPos.x + 'px';
                ball.style.top = ballPos.y + 'px';
            }
            
            animationId = requestAnimationFrame(gameLoop);
        }
        
        function resetGame() {
            if (ball) ball.remove();
            ballPos = { x: 290, y: 550 };
            ballVel = { x: 0, y: 0 };
            isLaunched = false;
            createBall();
        }
    </script>
</body>
</html>