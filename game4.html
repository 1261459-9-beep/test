<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³¢å­æ©ŸéŠæˆ²</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .game-container {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            max-width: 600px;
            width: 100%;
            text-align: center;
            border: 3px solid gold;
        }
        
        h1 {
            color: gold;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            font-size: 2.5rem;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: rgba(30, 30, 30, 0.7);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #444;
        }
        
        .stat-box {
            color: white;
            font-size: 1.2rem;
        }
        
        .stat-value {
            color: gold;
            font-weight: bold;
            font-size: 1.4rem;
        }
        
        .slots-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }
        
        .slot {
            width: 100px;
            height: 100px;
            background: #222;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            border: 3px solid #444;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
        }
        
        .slot-symbol {
            font-size: 3.5rem;
            transition: transform 0.3s ease;
        }
        
        .slot.active {
            animation: spin 0.8s ease-out;
        }
        
        @keyframes spin {
            0% { transform: rotateX(0); }
            100% { transform: rotateX(360deg); }
        }
        
        .controls {
            margin: 25px 0;
        }
        
        .spin-btn {
            background: linear-gradient(to bottom, #ff9900, #cc6600);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            font-weight: bold;
            letter-spacing: 2px;
        }
        
        .spin-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7);
            background: linear-gradient(to bottom, #ffaa00, #dd7700);
        }
        
        .spin-btn:active {
            transform: translateY(1px);
        }
        
        .spin-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .message {
            min-height: 40px;
            margin: 20px 0;
            padding: 10px;
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }
        
        .win-message {
            color: #ffcc00;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .symbols-info {
            margin-top: 25px;
            color: #ccc;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .symbol-item {
            display: inline-block;
            margin: 0 10px;
        }
        
        .symbol-icon {
            font-size: 1.5rem;
            margin-right: 5px;
        }
        
        .payline {
            height: 5px;
            background: gold;
            margin: 10px auto;
            width: 80%;
            border-radius: 2px;
            box-shadow: 0 0 10px gold;
        }
        
        .instructions {
            margin-top: 20px;
            color: #aaa;
            font-size: 0.9rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ° æ³¢å­æ©ŸéŠæˆ² ğŸ°</h1>
        
        <div class="stats">
            <div class="stat-box">
                <div>é¤˜é¡</div>
                <div class="stat-value" id="balance">100</div>
            </div>
            <div class="stat-box">
                <div>ä¸‹æ³¨</div>
                <div class="stat-value" id="bet">10</div>
            </div>
            <div class="stat-box">
                <div>è´å–</div>
                <div class="stat-value" id="win">0</div>
            </div>
        </div>
        
        <div class="payline"></div>
        
        <div class="slots-container">
            <div class="slot" id="slot1">
                <div class="slot-symbol">ğŸ’</div>
            </div>
            <div class="slot" id="slot2">
                <div class="slot-symbol">ğŸ‹</div>
            </div>
            <div class="slot" id="slot3">
                <div class="slot-symbol">ğŸ””</div>
            </div>
        </div>
        
        <div class="payline"></div>
        
        <div class="message" id="message">æº–å‚™å¥½é–‹å§‹éŠæˆ²äº†å—ï¼Ÿ</div>
        
        <div class="controls">
            <button class="spin-btn" id="spinBtn">æ—‹è½‰ï¼</button>
        </div>
        
        <div class="symbols-info">
            <div class="symbol-item"><span class="symbol-icon">ğŸ’</span> æ«»æ¡ƒ x3 = ä¸‹æ³¨x2</div>
            <div class="symbol-item"><span class="symbol-icon">ğŸ‹</span> æª¸æª¬ x3 = ä¸‹æ³¨x3</div>
            <div class="symbol-item"><span class="symbol-icon">ğŸ””</span> éˆ´éº x3 = ä¸‹æ³¨x5</div>
            <div class="symbol-item"><span class="symbol-icon">ğŸ’</span> å¯¶çŸ³ x3 = ä¸‹æ³¨x10</div>
            <div class="symbol-item"><span class="symbol-icon">7ï¸âƒ£</span> å¹¸é‹7 x3 = ä¸‹æ³¨x20</div>
        </div>
        
        <div class="instructions">
            <p>æ¯æ¬¡æ—‹è½‰æ¶ˆè€— 10 é»ã€‚åŒ¹é…ä¸‰å€‹ç›¸åŒç¬¦è™Ÿå³å¯ç²çï¼</p>
            <p>é¤˜é¡ä¸è¶³æ™‚éŠæˆ²çµæŸï¼Œé»æ“Šé é¢ä»»æ„ä½ç½®é‡æ–°é–‹å§‹ã€‚</p>
        </div>
    </div>

    <script>
        // éŠæˆ²è®Šæ•¸
        let balance = 100;
        const bet = 10;
        let isSpinning = false;
        
        // ç¬¦è™Ÿé™£åˆ—ï¼ˆåŒ…å«æ¬Šé‡ï¼‰
        const symbols = [
            { symbol: 'ğŸ’', weight: 30, payout: 2 },
            { symbol: 'ğŸ‹', weight: 25, payout: 3 },
            { symbol: 'ğŸ””', weight: 20, payout: 5 },
            { symbol: 'ğŸ’', weight: 15, payout: 10 },
            { symbol: '7ï¸âƒ£', weight: 10, payout: 20 }
        ];
        
        // DOM å…ƒç´ 
        const balanceEl = document.getElementById('balance');
        const betEl = document.getElementById('bet');
        const winEl = document.getElementById('win');
        const messageEl = document.getElementById('message');
        const spinBtn = document.getElementById('spinBtn');
        const slots = [
            document.getElementById('slot1'),
            document.getElementById('slot2'),
            document.getElementById('slot3')
        ];
        
        // åˆå§‹åŒ–
        betEl.textContent = bet;
        updateBalance();
        
        // æ—‹è½‰æŒ‰éˆ•äº‹ä»¶
        spinBtn.addEventListener('click', spin);
        
        // é»æ“Šä»»æ„ä½ç½®é‡æ–°é–‹å§‹
        document.body.addEventListener('click', () => {
            if (balance <= 0) {
                resetGame();
            }
        });
        
        // æ—‹è½‰åŠŸèƒ½
        function spin() {
            if (isSpinning || balance < bet) return;
            
            // æ‰£é™¤ä¸‹æ³¨é‡‘é¡
            balance -= bet;
            updateBalance();
            winEl.textContent = '0';
            messageEl.textContent = 'æ—‹è½‰ä¸­...';
            messageEl.className = 'message';
            
            // å•Ÿç”¨æ—‹è½‰ç‹€æ…‹
            isSpinning = true;
            spinBtn.disabled = true;
            
            // ç‚ºæ¯å€‹è½‰è¼ªæ·»åŠ æ—‹è½‰å‹•ç•«
            slots.forEach(slot => {
                slot.classList.add('active');
            });
            
            // æ¨¡æ“¬æ—‹è½‰å»¶é²å¾Œé¡¯ç¤ºçµæœ
            setTimeout(() => {
                const results = [];
                
                // ç”Ÿæˆéš¨æ©Ÿçµæœ
                for (let i = 0; i < 3; i++) {
                    const randomSymbol = getRandomSymbol();
                    results.push(randomSymbol);
                    slots[i].querySelector('.slot-symbol').textContent = randomSymbol.symbol;
                }
                
                // ç§»é™¤æ—‹è½‰å‹•ç•«
                slots.forEach(slot => {
                    slot.classList.remove('active');
                });
                
                // è¨ˆç®—çé‡‘
                const winAmount = calculateWin(results);
                balance += winAmount;
                winEl.textContent = winAmount;
                
                // æ›´æ–°è¨Šæ¯
                if (winAmount > 0) {
                    messageEl.textContent = `æ­å–œï¼è´å¾— ${winAmount} é»ï¼`;
                    messageEl.className = 'message win-message';
                } else {
                    messageEl.textContent = 'å†è©¦ä¸€æ¬¡å§ï¼';
                    messageEl.className = 'message';
                }
                
                updateBalance();
                isSpinning = false;
                spinBtn.disabled = false;
                
                // æª¢æŸ¥éŠæˆ²çµæŸ
                if (balance < bet) {
                    messageEl.textContent = 'éŠæˆ²çµæŸï¼é»æ“Šä»»æ„ä½ç½®é‡æ–°é–‹å§‹';
                    spinBtn.disabled = true;
                }
            }, 1500);
        }
        
        // æ ¹æ“šæ¬Šé‡éš¨æ©Ÿé¸æ“‡ç¬¦è™Ÿ
        function getRandomSymbol() {
            const totalWeight = symbols.reduce((sum, symbol) => sum + symbol.weight, 0);
            let random = Math.floor(Math.random() * totalWeight);
            
            for (const symbol of symbols) {
                if (random < symbol.weight) {
                    return symbol;
                }
                random -= symbol.weight;
            }
            
            return symbols[symbols.length - 1];
        }
        
        // è¨ˆç®—çé‡‘
        function calculateWin(results) {
            // æª¢æŸ¥æ˜¯å¦ä¸‰å€‹ç¬¦è™Ÿç›¸åŒ
            if (results[0].symbol === results[1].symbol && results[1].symbol === results[2].symbol) {
                return bet * results[0].payout;
            }
            return 0;
        }
        
        // æ›´æ–°é¤˜é¡é¡¯ç¤º
        function updateBalance() {
            balanceEl.textContent = balance;
        }
        
        // é‡ç½®éŠæˆ²
        function resetGame() {
            balance = 100;
            updateBalance();
            winEl.textContent = '0';
            messageEl.textContent = 'æº–å‚™å¥½é–‹å§‹éŠæˆ²äº†å—ï¼Ÿ';
            messageEl.className = 'message';
            spinBtn.disabled = false;
            
            // é‡ç½®è½‰è¼ªé¡¯ç¤º
            slots[0].querySelector('.slot-symbol').textContent = 'ğŸ’';
            slots[1].querySelector('.slot-symbol').textContent = 'ğŸ‹';
            slots[2].querySelector('.slot-symbol').textContent = 'ğŸ””';
        }
    </script>
</body>
</html>